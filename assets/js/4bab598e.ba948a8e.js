"use strict";(self.webpackChunkkubeblocks_io=self.webpackChunkkubeblocks_io||[]).push([[92],{3776:(e,l,t)=>{t.r(l),t.d(l,{default:()=>i});var n=t(67294),s=t(5459),a=t.n(s),r=t(94184),c=t.n(r);const i=()=>{const[e,l]=(0,n.useState)(!1),[t,s]=(0,n.useState)(0),[r,i]=(0,n.useState)(0),[m,o]=(0,n.useState)({visible_1:!1,visible_2:!1,visible_3:!1,visible_4:!1,visible_5:!1,visible_6:!1,visible_7:!1,visible_8:!1,visible_9:!1,visible_10:!1,visible_11:!1,visible_12:!1,visible_13:!1,visible_14:!1,visible_15:!1,visible_16:!1,visible_17:!1}),u=n.createElement(n.Fragment,null,n.createElement("span",{className:"green-text"},"kubeblocks"),n.createElement("span",{className:"blue-text"}," ~ %")),E=n.createElement(n.Fragment,null,n.createElement("span",{className:"green-text"},"mysql>")),p=n.createElement("span",{className:"pink-text"},"Please type the name again(separate with white space when more than one):"),d=["kbcli cluster create mysql-cluster --cluster-definition=apecloud-mysql --set replicas=3","kbcli cluster list","kbcli cluster describe mysql-cluster","kbcli cluster connect mysql-cluster","","kbcli cluster vscale mysql-cluster --components mysql --cpu 2000m --memory 2Gi","kbcli cluster describe-ops mysql-cluster-verticalscaling-w9m7h -n default","kbcli cluster describe-config mysql-cluster --show-detail | grep max_connections=","kbcli cluster configure mysql-cluster --set max_connections=2000","kbcli cluster describe-config mysql-cluster --show-detail | grep max_connections=","kbcli cluster backup mysql-cluster","kbcli cluster list-backups --name=backup-default-mysql-cluster-20230423155856 -n default","kbcli cluster restore new-cluster --backup backup-default-mysql-cluster-20230423155856","kbcli cluster list","kbcli cluster connect new-cluster"],y=n.createElement(a(),{options:{cursor:"",delay:50},onInit:e=>{e.typeString(d[r-1]).pauseFor(200).callFunction((()=>{setTimeout((()=>{o({...m,[`visible_${r}`]:!0}),l(!1);let e=document.getElementById("writer");e.scrollHeight>e.offsetHeight&&(e.scrollTop=e.scrollHeight)}),500),s(t+1)})).start()}});return n.createElement("div",{id:"typeWriter",className:"box"},n.createElement("h2",{className:"centered-title"},"Try KubeBlocks in the browser"),n.createElement("div",{className:"writer"},n.createElement("div",{className:"writer-title"},n.createElement("img",{src:"img/icon.png",alt:"icon"})),n.createElement("div",{className:"writer-content",id:"writer"},n.createElement("pre",{className:"new_pre mobile"},"\n=============================================\n __    __ _______   ______  __       ______ \n|  \\  /  \\       \\ /      \\|  \\     |      \\\n| \u2593\u2593 /  \u2593\u2593 \u2593\u2593\u2593\u2593\u2593\u2593\u2593\\  \u2593\u2593\u2593\u2593\u2593\u2593\\ \u2593\u2593      \\\u2593\u2593\u2593\u2593\u2593\u2593\n| \u2593\u2593/  \u2593\u2593| \u2593\u2593__/ \u2593\u2593 \u2593\u2593   \\\u2593\u2593 \u2593\u2593       | \u2593\u2593  \n| \u2593\u2593  \u2593\u2593 | \u2593\u2593    \u2593\u2593 \u2593\u2593     | \u2593\u2593       | \u2593\u2593  \n| \u2593\u2593\u2593\u2593\u2593\\ | \u2593\u2593\u2593\u2593\u2593\u2593\u2593\\ \u2593\u2593   __| \u2593\u2593       | \u2593\u2593  \n| \u2593\u2593 \\\u2593\u2593\\| \u2593\u2593__/ \u2593\u2593 \u2593\u2593__/  \\ \u2593\u2593_____ _| \u2593\u2593_ \n| \u2593\u2593  \\\u2593\u2593\\ \u2593\u2593    \u2593\u2593\\\u2593\u2593    \u2593\u2593 \u2593\u2593     \\   \u2593\u2593 \\\n \\\u2593\u2593   \\\u2593\u2593\\\u2593\u2593\u2593\u2593\u2593\u2593\u2593  \\\u2593\u2593\u2593\u2593\u2593\u2593 \\\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\\\u2593\u2593\u2593\u2593\u2593\u2593\n\n=============================================\nA Command Line Interface for KubeBlocks"),u,n.createElement("span",{className:"cli"},r>0&&y),m.visible_1&&n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement("span",{className:"yellow-text"},"Warning:")," cluster version is not specified, use the recently created ClusterVersion ac-mysql-8.0.30",n.createElement("br",null)),n.createElement("div",null,"Cluster mysql-cluster created"),u),n.createElement("span",{className:"cli"},r>1&&y),m.visible_2&&n.createElement(n.Fragment,null,n.createElement("pre",{className:"new_pre"},"NAME              NAMESPACE   CLUSTER-DEFINITION   VERSION             TERMINATION-POLICY   STATUS    CREATED-TIME\nmysql-cluster     default     apecloud-mysql       ac-mysql-8.0.30     Delete               Creating   Apr 23,2023 15:50 UTC+0800\n              "),u),n.createElement("span",{className:"cli"},r>2&&y),m.visible_3&&n.createElement(n.Fragment,null,n.createElement("pre",{className:"new_pre"},'Name: mysql-cluster\t Created Time: Apr 23,2023 15:50 UTC+0800\nNAMESPACE   CLUSTER-DEFINITION   VERSION           STATUS    TERMINATION-POLICY   \ndefault     apecloud-mysql       ac-mysql-8.0.30   Running   Delete               \n\nEndpoints:\nCOMPONENT   MODE        INTERNAL                                             EXTERNAL   \nmysql       ReadWrite   mysql-cluster-mysql.default.svc.cluster.local:3306   <none>     \n\nTopology:\nCOMPONENT   INSTANCE                ROLE       STATUS    AZ                NODE                                                             CREATED-TIME                 \nmysql       mysql-cluster-mysql-0   leader     Running   cn-northwest-1c   ip-172-31-39-93.cn-northwest-1.compute.internal/172.31.39.93     Apr 23,2023 15:50 UTC+0800   \nmysql       mysql-cluster-mysql-1   follower   Running   cn-northwest-1b   ip-172-31-28-145.cn-northwest-1.compute.internal/172.31.28.145   Apr 23,2023 15:50 UTC+0800   \nmysql       mysql-cluster-mysql-2   follower   Running   cn-northwest-1a   ip-172-31-7-150.cn-northwest-1.compute.internal/172.31.7.150     Apr 23,2023 15:50 UTC+0800   \n\nResources Allocation:\nCOMPONENT   DEDICATED   CPU(REQUEST/LIMIT)   MEMORY(REQUEST/LIMIT)   STORAGE-SIZE   STORAGE-CLASS   \nmysql       false       1 / 1                1Gi / 1Gi               data:20Gi      ebs-sc          \n\nImages:\nCOMPONENT   TYPE    IMAGE                                                                                                  \nmysql       mysql   registry.cn-hangzhou.aliyuncs.com/apecloud/apecloud-mysql-server:8.0.30-5.alpha5.20230319.g28f261a.5   \n\nData Protection:\nAUTO-BACKUP   BACKUP-SCHEDULE   TYPE       BACKUP-TTL   LAST-SCHEDULE   RECOVERABLE-TIME   \nDisabled      0 18 * * 0        snapshot   7d           <none>          <none>             \n\nEvents(last 5 warnings, see more:kbcli cluster list-events -n default mysql-cluster):\nTIME                         TYPE      REASON        OBJECT                           MESSAGE                                                                                                               \nApr 23,2023 15:50 UTC+0800   Warning   FailedMount   Instance/mysql-cluster-mysql-2   MountVolume.SetUp failed for volume "scripts" : failed to sync configmap cache: timed out waiting for the condition'),u),n.createElement("span",{className:"cli"},r>3&&y),m.visible_4&&n.createElement(n.Fragment,null,n.createElement("pre",{className:"new_pre"},"Connect to instance mysql-cluster-mysql-0: out of mysql-cluster-mysql-0(leader), mysql-cluster-mysql-1(follower), mysql-cluster-mysql-2(follower)\nmysql: [Warning] Using a password on the command line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with ; or g.\nYour MySQL connection id is 18057\nServer version: 8.0.30 WeSQL Server - GPL, Release 5, Revision 28f261a\n\nCopyright (c) 2000, 2022, Oracle and/or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or 'h' for help. Type 'c' to clear the current input statement.\n"),E),n.createElement("span",{className:"cli"},r>4&&n.createElement(n.Fragment,null," USE mydb")),m.visible_5&&n.createElement(n.Fragment,null,n.createElement("div",null,"Database changed"),n.createElement("div",null,n.createElement("span",{className:"green-text"},"mysql>")," CREATE TABLE students ("),n.createElement("pre",{className:"new_pre"},"    ->     student_id INT PRIMARY KEY,\n    ->     name VARCHAR(50) NOT NULL,\n    ->     gender VARCHAR(10) NOT NULL,\n    ->     birthday DATE NOT NULL,\n    ->     major VARCHAR(50) NOT NULL,\n    ->     grade INT NOT NULL\n    -> );\nQuery OK, 0 rows affected (0.06 sec)\n            "),n.createElement("div",null,n.createElement("span",{className:"green-text"},"mysql>")," INSERT INTO students (student_id, name, gender, birthday, major, grade)"),n.createElement("pre",{className:"new_pre"},"    -> VALUES (1, 'John Smith', 'Male', '2001-01-01', 'Computer Science and Technology', 2020),\n    -> (2, 'Emily Brown', 'Female', '2002-02-15', 'Software Engineering', 2021),\n    -> (3, 'Michael Johnson', 'Male', '2003-03-26', 'Information Security', 2022);\nQuery OK, 3 rows affected (0.08 sec)\nRecords: 3  Duplicates: 0  Warnings: 0\n            "),n.createElement("div",null,n.createElement("span",{className:"green-text"},"mysql>")," SELECT * FROM students;"),n.createElement("pre",{className:"new_pre"},"+------------+-----------------+--------+------------+---------------------------------+-------+\n| student_id | name            | gender | birthday   | major                           | grade |\n+------------+-----------------+--------+------------+---------------------------------+-------+\n|          1 | John Smith      | Male   | 2001-01-01 | Computer Science and Technology |  2020 |\n|          2 | Emily Brown     | Female | 2002-02-15 | Software Engineering            |  2021 |\n|          3 | Michael Johnson | Male   | 2003-03-26 | Information Security            |  2022 |\n+------------+-----------------+--------+------------+---------------------------------+-------+\n3 rows in set (0.00 sec)"),n.createElement("div",null,n.createElement("span",{className:"green-text"},"mysql>")," exit"),n.createElement("div",null,"Bye"),u),n.createElement("span",{className:"cli"},r>5&&y),m.visible_6&&n.createElement(n.Fragment,null,n.createElement("div",null,p," mysql-cluster"),n.createElement("pre",{className:"new_pre"},"OpsRequest mysql-cluster-verticalscaling-w9m7h created successfully, you can view the progress:\n\tkbcli cluster describe-ops mysql-cluster-verticalscaling-w9m7h -n default"),u),n.createElement("span",{className:"cli"},r>6&&y),m.visible_7&&n.createElement(n.Fragment,null,n.createElement("pre",{className:"new_pre"},"Spec:\n  Name: mysql-cluster-verticalscaling-w9m7h\tNameSpace: default\tCluster: mysql-cluster\tType: VerticalScaling\t\n\nCommand:\n  kbcli cluster vscale mysql-cluster --components=mysql --cpu=2 --memory=2Gi --namespace=default\n\nLast Configuration:\nCOMPONENT   REQUEST-CPU   REQUEST-MEMORY   LIMIT-CPU   LIMIT-MEMORY   \nmysql       100m          512Mi            100m        512Mi          \n\nStatus:\n  Start Time:         Apr 23,2023 15:55 UTC+0800\n  Duration:           115s\n  Status:             Running\n  Progress:           0/3\n                      OBJECT-KEY                  STATUS       DURATION   MESSAGE                                                                  \n                      Pod/mysql-cluster-mysql-1   Processing   115s       Start to vertical scale: Pod/mysql-cluster-mysql-1 in Component: mysql   \n                      Pod/mysql-cluster-mysql-0   Pending      115s                                                                                \n                      Pod/mysql-cluster-mysql-2   Pending      115s                                                                                \n\nConditions:\nLAST-TRANSITION-TIME         TYPE              REASON                         STATUS   MESSAGE                                                                                          \nApr 23,2023 15:55 UTC+0800   Progressing       OpsRequestProgressingStarted   True     Start to process the OpsRequest: mysql-cluster-verticalscaling-w9m7h in Cluster: mysql-cluster   \nApr 23,2023 15:55 UTC+0800   Validated         ValidateOpsRequestPassed       True     OpsRequest: mysql-cluster-verticalscaling-w9m7h is validated                                     \nApr 23,2023 15:55 UTC+0800   VerticalScaling   VerticalScalingStarted         True     Start to vertical scale resources in Cluster: mysql-cluster                                      \n\nWarning Events: <none>"),u),n.createElement("span",{className:"cli"},r>7&&y),m.visible_8&&n.createElement(n.Fragment,null,n.createElement("div",null,"max_connections=83"),u),n.createElement("span",{className:"cli"},r>8&&y),m.visible_9&&n.createElement(n.Fragment,null,n.createElement("div",null,"Will updated configure file meta:"),n.createElement("div",null,"ConfigSpec: ",n.createElement("span",{className:"yellow-text"},"mysql-consensusset-config\xa0\xa0"),"ConfigFile: ",n.createElement("span",{className:"yellow-text"},"my.cnf\xa0\xa0"),"ComponentName:  ClusterName: mysql-cluster"),n.createElement("pre",{className:"new_pre"},"OpsRequest mysql-cluster-reconfiguring-6xrkm created successfully, you can view the progress:\n\tkbcli cluster describe-ops mysql-cluster-reconfiguring-6xrkm -n default"),u),n.createElement("span",{className:"cli"},r>9&&y),m.visible_10&&n.createElement(n.Fragment,null,n.createElement("div",null,"max_connections=2000"),u),n.createElement("span",{className:"cli"},r>10&&y),m.visible_11&&n.createElement(n.Fragment,null,n.createElement("pre",{className:"new_pre"},"Backup backup-default-mysql-cluster-20230423155856 created successfully, you can view the progress:\n\tkbcli cluster list-backups --name=backup-default-mysql-cluster-20230423155856 -n default"),u),n.createElement("span",{className:"cli"},r>11&&y),m.visible_12&&n.createElement(n.Fragment,null,n.createElement("pre",{className:"new_pre"},"NAME                                          CLUSTER         TYPE       STATUS      TOTAL-SIZE   DURATION   CREATE-TIME                  COMPLETION-TIME              \nbackup-default-mysql-cluster-20230423155856   mysql-cluster   snapshot   Completed   20Gi         24s        Apr 23,2023 15:58 UTC+0800   Apr 23,2023 15:58 UTC+0800"),u),n.createElement("span",{className:"cli"},r>12&&y),m.visible_13&&n.createElement(n.Fragment,null,n.createElement("pre",{className:"new_pre"},"Cluster new-cluster created"),u),n.createElement("span",{className:"cli"},r>13&&y),m.visible_14&&n.createElement(n.Fragment,null,n.createElement("pre",{className:"new_pre"},"NAME                         NAMESPACE   CLUSTER-DEFINITION   VERSION             TERMINATION-POLICY   STATUS     CREATED-TIME                 \nmysql-cluster     default     apecloud-mysql       ac-mysql-8.0.30     Delete               Running    Apr 23,2023 15:50 UTC+0800   \nnew-cluster       default     apecloud-mysql       ac-mysql-8.0.30     Delete               Running    Apr 23,2023 16:05 UTC+0800    \n"),u),n.createElement("span",{className:"cli"},r>14&&y),m.visible_15&&n.createElement(n.Fragment,null,n.createElement("pre",{className:"new_pre"},"Connect to instance new-cluster-mysql-1: out of new-cluster-mysql-1(leader), new-cluster-mysql-0(follower), new-cluster-mysql-2(follower)\nmysql: [Warning] Using a password on the command line interface can be insecure.\nWelcome to the MySQL monitor.  Commands end with ; or g.\nYour MySQL connection id is 9961\nServer version: 8.0.30 WeSQL Server - GPL, Release 5, Revision 28f261a\n\nCopyright (c) 2000, 2022, Oracle and/or its affiliates.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\n\nType 'help;' or 'h' for help. Type 'c' to clear the current input statement."),E),n.createElement("span",{className:"cli"},r>15&&n.createElement(n.Fragment,null,"USE mydb")),m.visible_16&&n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement("span",{className:"green-text"},"mysql>")," SELECT * FROM students;"),n.createElement("pre",{className:"new_pre"},"+------------+-----------------+--------+------------+---------------------------------+-------+\n| student_id | name            | gender | birthday   | major                           | grade |\n+------------+-----------------+--------+------------+---------------------------------+-------+\n|          1 | John Smith      | Male   | 2001-01-01 | Computer Science and Technology |  2020 |\n|          2 | Emily Brown     | Female | 2002-02-15 | Software Engineering            |  2021 |\n|          3 | Michael Johnson | Male   | 2003-03-26 | Information Security            |  2022 |\n+------------+-----------------+--------+------------+---------------------------------+-------+\n3 rows in set (0.00 sec)"),n.createElement("div",null,n.createElement("span",{className:"green-text"},"mysql>")," exit"),n.createElement("div",null,"Bye"),u))),n.createElement("button",{className:c()({btn:!0,"next-btn":!0}),disabled:e,onClick:()=>{e||(l(!0),i(r+1),r+1!=5&&r+1!=16||(o({...m,[`visible_${r+1}`]:!0}),setTimeout((()=>{l(!1);let e=document.getElementById("writer");e.scrollHeight>e.offsetHeight&&(e.scrollTop=e.scrollHeight)}),500),s(t+1)),r+1==17&&(l(!1),s(0),i(0),o({visible_1:!1,visible_2:!1,visible_3:!1,visible_4:!1,visible_5:!1,visible_6:!1,visible_7:!1,visible_8:!1,visible_9:!1,visible_10:!1,visible_11:!1,visible_12:!1,visible_13:!1,visible_14:!1,visible_15:!1,visible_16:!1,visible_17:!1})))}},["Create a cluster","View the cluster list","View cluster details","Connect the cluster","Insert and select data","Vertically scale the cluster","View the progress","View max connection","Configure this parameter","Validate the configuration","Create a backup","View the backup progress","Restore data from backup","View the cluster list","Connect the restored cluster","Verify restored data","Try again"][t]))}}}]);