<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-release-0.4 plugin-docs plugin-id-default docs-doc-id-release_notes/v0.3.0">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">KubeBlocks 0.3.0 (2023-01-19) | Kubeblocks</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://apecloud.github.io/docs/release-0.4/release_notes/v0.3.0"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="release-0.4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-release-0.4"><meta data-rh="true" name="docsearch:version" content="release-0.4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-release-0.4"><meta data-rh="true" property="og:title" content="KubeBlocks 0.3.0 (2023-01-19) | Kubeblocks"><meta data-rh="true" name="description" content="We&#x27;re happy to announce the release of KubeBlocks 0.3.0! ðŸš€ ðŸŽ‰ ðŸŽˆ"><meta data-rh="true" property="og:description" content="We&#x27;re happy to announce the release of KubeBlocks 0.3.0! ðŸš€ ðŸŽ‰ ðŸŽˆ"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://apecloud.github.io/docs/release-0.4/release_notes/v0.3.0"><link data-rh="true" rel="alternate" href="https://apecloud.github.io/docs/release-0.4/release_notes/v0.3.0" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://apecloud.github.io/docs/release-0.4/release_notes/v0.3.0" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kubeblocks RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kubeblocks Atom Feed"><link rel="stylesheet" href="/assets/css/styles.cf9c290c.css">
<link rel="preload" href="/assets/js/runtime~main.5d553392.js" as="script">
<link rel="preload" href="/assets/js/main.c5314c41.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="/docs/release-0.4/user_docs/introduction/feature-list">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/release-0.4/release_notes/v0.3.6">Release Notes</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/release-0.4">release-0.4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/release_notes/v0.3.0">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/release-0.4/release_notes/v0.3.0">release-0.4</a></li></ul></div><a href="https://github.com/apecloud/kubeblocks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/template">KubeBlocks $kubeblocks_version ($today)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.1.0">KubeBlocks 0.1.0 (2022-11-07)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.2.0">KubeBlocks 0.2.0 (2022-12-30)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/release-0.4/release_notes/v0.3.0">KubeBlocks 0.3.0 (2023-01-19)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.3.1">KubeBlocks 0.3.1 (2023-01-28)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.3.2">KubeBlocks 0.3.2 (2023-01-30)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.3.3">KubeBlocks 0.3.3 (2023-01-31)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.3.4">KubeBlocks 0.3.4 (2023-02-02)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.3.5">KubeBlocks 0.3.5 (2023-02-03)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.3.6">KubeBlocks 0.3.6 (2023-02-04)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.3.7">KubeBlocks 0.3.7 (2023-02-10)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.3.8">KubeBlocks 0.3.8 (2023-02-12)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/release_notes/v0.4.0">KubeBlocks 0.4.0 (2023-02-28)</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">KubeBlocks 0.3.0 (2023-01-19)</span><meta itemprop="position" content="1"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: release-0.4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>KubeBlocks 0.3.0 (2023-01-19)</h1><p>We&#x27;re happy to announce the release of KubeBlocks 0.3.0! ðŸš€ ðŸŽ‰ ðŸŽˆ</p><p>We would like to extend our appreciation to all contributors who helped make this release happen.</p><p><strong>Highlights</strong></p><ul><li>Horizontal scaling for ApeCloud MySQL, you can add/remove read-only instances.</li><li>Replication lag metrics for ApeCloud MySQL.</li><li>Alerting rules for ApeCloud MySQL.</li><li>Policy-based backups.</li><li>Preflight checks to pre-check the deployment environment.</li><li>Show connection example with kbcli connect enhancement</li><li>List ClusterDefinition, ClusterVersion, and users with kbcli.</li></ul><p>If you&#x27;re new to KubeBlocks, visit the <a href="https://kubeblocks.io" target="_blank" rel="noopener noreferrer">getting started</a> page and get a quick start with KubeBlocks.</p><blockquote><p><strong>Note: This release contains a few <a href="#breaking-changes">breaking changes</a>.</strong></p></blockquote><p>See <a href="#upgrading-to-kubeblocks-0.3.0">this</a> section to upgrade KubeBlocks to version 0.3.0.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="acknowledgements">Acknowledgements<a href="#acknowledgements" class="hash-link" aria-label="Direct link to Acknowledgements" title="Direct link to Acknowledgements">â€‹</a></h2><p>Thanks to everyone who made this release possible!</p><p>@dengshaojiang, @free6om, @heng4fun, @JashBook, @ldming, @lynnleelhl, @max8899, @michelle-0808, @nashtsai, @shanshanying, @sophon-zt, @wangyelei, @weicao, @xuriwuyun, @yangmeilly, @yimeisun, @ZhaoDiankui</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-changed">What&#x27;s Changed<a href="#whats-changed" class="hash-link" aria-label="Direct link to What&#x27;s Changed" title="Direct link to What&#x27;s Changed">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-features">New Features<a href="#new-features" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">â€‹</a></h3><ul><li>horizontal scaling (<a href="https://github.com/apecloud/kubeblocks/pull/330" target="_blank" rel="noopener noreferrer">#330</a>, @lynnleelhl)</li><li>SystemAccount Creation on Demand (<a href="https://github.com/apecloud/kubeblocks/pull/511" target="_blank" rel="noopener noreferrer">#511</a>, @shanshanying)</li><li>reconfigure configmap (<a href="https://github.com/apecloud/kubeblocks/pull/567" target="_blank" rel="noopener noreferrer">#567</a>, @sophon-zt)</li><li>update cluster with kbcli (<a href="https://github.com/apecloud/kubeblocks/pull/826" target="_blank" rel="noopener noreferrer">#826</a>, @ldming)</li><li>timeout seconds for probe (<a href="https://github.com/apecloud/kubeblocks/pull/864" target="_blank" rel="noopener noreferrer">#864</a>, @xuriwuyun)</li><li>OpsRequest reconfigure (<a href="https://github.com/apecloud/kubeblocks/pull/866" target="_blank" rel="noopener noreferrer">#866</a>, @sophon-zt)</li><li>create namespace when installing KubeBlocks (<a href="https://github.com/apecloud/kubeblocks/pull/880" target="_blank" rel="noopener noreferrer">#880</a>, @ldming)</li><li>automatically move issue when released (<a href="https://github.com/apecloud/kubeblocks/pull/895" target="_blank" rel="noopener noreferrer">#895</a>, @JashBook)</li><li>cli describe and list enhancement (<a href="https://github.com/apecloud/kubeblocks/pull/896" target="_blank" rel="noopener noreferrer">#896</a>, @ldming)</li><li>OpsRequest progress/progressDetails and last configuration of operations (<a href="https://github.com/apecloud/kubeblocks/pull/921" target="_blank" rel="noopener noreferrer">#921</a>, @wangyelei)</li><li>add troubleshoot.sh module and preflight checks for KubeBlocks (<a href="https://github.com/apecloud/kubeblocks/pull/939" target="_blank" rel="noopener noreferrer">#939</a>, @yangmeilly)</li><li>auto-schedule for backup policy (<a href="https://github.com/apecloud/kubeblocks/pull/950" target="_blank" rel="noopener noreferrer">#950</a>, @dengshaojiang)</li><li>show connection example with cli connect enhancement (<a href="https://github.com/apecloud/kubeblocks/pull/951" target="_blank" rel="noopener noreferrer">#951</a>, @ldming)</li><li>ApeCloud MySQL consensus metrics and dashboards (<a href="https://github.com/apecloud/kubeblocks/pull/952" target="_blank" rel="noopener noreferrer">#952</a>, @yimeisun)</li><li>upload kbcli to public repo (<a href="https://github.com/apecloud/kubeblocks/pull/960" target="_blank" rel="noopener noreferrer">#960</a>, @JashBook)</li><li>alerting rules for MySQL and cadvisor (<a href="https://github.com/apecloud/kubeblocks/pull/962" target="_blank" rel="noopener noreferrer">#962</a>, @yimeisun)</li><li>prometheus and alertmanager with persistent volume, resource limitation and replicas (<a href="https://github.com/apecloud/kubeblocks/pull/963" target="_blank" rel="noopener noreferrer">#963</a>, @yimeisun)</li><li>update ApeCloud MySQL default config template (<a href="https://github.com/apecloud/kubeblocks/pull/965" target="_blank" rel="noopener noreferrer">#965</a>, @sophon-zt)</li><li>list ClusterDefinition, ClusterVersion and users with kbcli (<a href="https://github.com/apecloud/kubeblocks/pull/967" target="_blank" rel="noopener noreferrer">#967</a>, @ldming)</li><li>use dashboard command to simplify kbcli KubeBlocks output message (<a href="https://github.com/apecloud/kubeblocks/pull/968" target="_blank" rel="noopener noreferrer">#968</a>, @yimeisun)</li><li>kbcli upgrade (<a href="https://github.com/apecloud/kubeblocks/pull/977" target="_blank" rel="noopener noreferrer">#977</a>, @lynnleelhl)</li><li>add make manifests to ci (<a href="https://github.com/apecloud/kubeblocks/pull/990" target="_blank" rel="noopener noreferrer">#990</a>, @JashBook)</li><li>support describe ops (<a href="https://github.com/apecloud/kubeblocks/pull/995" target="_blank" rel="noopener noreferrer">#995</a>, @wangyelei)</li><li>enhance list ops and add double-check for operations (<a href="https://github.com/apecloud/kubeblocks/pull/1000" target="_blank" rel="noopener noreferrer">#1000</a>, @wangyelei)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bug-fixes">Bug Fixes<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">â€‹</a></h3><ul><li>should stop installing helm chart when last release is not successfully deployed (<a href="https://github.com/apecloud/kubeblocks/pull/856" target="_blank" rel="noopener noreferrer">#856</a>, @max8899)</li><li>when opsRequest is running and the spec clusterRef is updated by user, the OpsRequest jobs will inconsistent. (<a href="https://github.com/apecloud/kubeblocks/pull/879" target="_blank" rel="noopener noreferrer">#879</a>, @wangyelei)</li><li>remove omitempty to prevent empty value when marshal (<a href="https://github.com/apecloud/kubeblocks/pull/883" target="_blank" rel="noopener noreferrer">#883</a>, @lynnleelhl)</li><li>update helm template (<a href="https://github.com/apecloud/kubeblocks/pull/890" target="_blank" rel="noopener noreferrer">#890</a>, @xuriwuyun)</li><li>build pdb if minReplicas non-zero (<a href="https://github.com/apecloud/kubeblocks/pull/905" target="_blank" rel="noopener noreferrer">#905</a>, @lynnleelhl)</li><li>use password in setup scripts (<a href="https://github.com/apecloud/kubeblocks/pull/912" target="_blank" rel="noopener noreferrer">#912</a>, @lynnleelhl)</li><li>backup resources not clean after h-scale (<a href="https://github.com/apecloud/kubeblocks/pull/914" target="_blank" rel="noopener noreferrer">#914</a>, @lynnleelhl)</li><li>optimize DoNotTerminate (<a href="https://github.com/apecloud/kubeblocks/pull/917" target="_blank" rel="noopener noreferrer">#917</a>, @lynnleelhl)</li><li>fix bug of horizontal scaling and add UT for it  #922 (<a href="https://github.com/apecloud/kubeblocks/pull/923" target="_blank" rel="noopener noreferrer">#923</a>, @weicao)</li><li>updating pvc storage size throws error (<a href="https://github.com/apecloud/kubeblocks/pull/926" target="_blank" rel="noopener noreferrer">#926</a>, @weicao)</li><li>add exec command in ApeCloud MySQL setup.sh script (<a href="https://github.com/apecloud/kubeblocks/pull/936" target="_blank" rel="noopener noreferrer">#936</a>, @ZhaoDiankui)</li><li>make error for duplicate constant (<a href="https://github.com/apecloud/kubeblocks/pull/944" target="_blank" rel="noopener noreferrer">#944</a>, @ldming)</li><li>modify kbcli and readme docs (<a href="https://github.com/apecloud/kubeblocks/pull/947" target="_blank" rel="noopener noreferrer">#947</a>, @michelle-0808)</li><li>fixed &#x27;goimports&#x27; Makefile job that tidy up vendor/ go files (<a href="https://github.com/apecloud/kubeblocks/pull/953" target="_blank" rel="noopener noreferrer">#953</a>, @nashtsai)</li><li>probe event lost (<a href="https://github.com/apecloud/kubeblocks/pull/964" target="_blank" rel="noopener noreferrer">#964</a>, @xuriwuyun)</li><li>delete OpsRequest failed when cluster is deleted and support sending events when probe timeout (<a href="https://github.com/apecloud/kubeblocks/pull/973" target="_blank" rel="noopener noreferrer">#973</a>, @wangyelei)</li><li>do nothing if error is already exists (<a href="https://github.com/apecloud/kubeblocks/pull/976" target="_blank" rel="noopener noreferrer">#976</a>, @lynnleelhl)</li><li>pod Annotations is none when changed the component monitor to true, and update any cluster.spec variables, the cluster maybe goes to Updating. (<a href="https://github.com/apecloud/kubeblocks/pull/979" target="_blank" rel="noopener noreferrer">#979</a>, @wangyelei)</li><li>check if KubeBlocks is installed when install KubeBlocks (<a href="https://github.com/apecloud/kubeblocks/pull/981" target="_blank" rel="noopener noreferrer">#981</a>, @ldming)</li><li>make manifest leading to inconsistent crd yaml (<a href="https://github.com/apecloud/kubeblocks/pull/987" target="_blank" rel="noopener noreferrer">#987</a>, @shanshanying)</li><li>update makefile for probe (<a href="https://github.com/apecloud/kubeblocks/pull/992" target="_blank" rel="noopener noreferrer">#992</a>, @xuriwuyun)</li><li>component doc for consensusset (<a href="https://github.com/apecloud/kubeblocks/pull/999" target="_blank" rel="noopener noreferrer">#999</a>, @free6om)</li><li>remove backuptools custom resources and definitions when uninstall kubeblocks (<a href="https://github.com/apecloud/kubeblocks/pull/1008" target="_blank" rel="noopener noreferrer">#1008</a>, @ldming)</li><li>update ApeCloud MySQL config constraint (#1013) (<a href="https://github.com/apecloud/kubeblocks/pull/1018" target="_blank" rel="noopener noreferrer">#1018</a>, @sophon-zt)</li><li>OS X Process.Name function requires elevated permissions (#1012) (<a href="https://github.com/apecloud/kubeblocks/pull/1019" target="_blank" rel="noopener noreferrer">#1019</a>, @sophon-zt)</li><li>support k8sResource convert for cue validate ApeCloud MySQL config (#1020) (<a href="https://github.com/apecloud/kubeblocks/pull/1036" target="_blank" rel="noopener noreferrer">#1036</a>, @sophon-zt)</li><li>delete unused parameters for config-manager-sidecar (#1031) (<a href="https://github.com/apecloud/kubeblocks/pull/1037" target="_blank" rel="noopener noreferrer">#1037</a>, @sophon-zt)</li><li>remove configuration configMaps when uninstall KubeBlocks (<a href="https://github.com/apecloud/kubeblocks/pull/1039" target="_blank" rel="noopener noreferrer">#1039</a>, @ldming)</li><li>update rbac to fix deletion hang (<a href="https://github.com/apecloud/kubeblocks/pull/1051" target="_blank" rel="noopener noreferrer">#1051</a>, @lynnleelhl)</li><li>remove cli upgrade KubeBlocks default version (<a href="https://github.com/apecloud/kubeblocks/pull/1069" target="_blank" rel="noopener noreferrer">#1069</a>, @ldming)</li><li>horizontal scaling bugfix (<a href="https://github.com/apecloud/kubeblocks/pull/1070" target="_blank" rel="noopener noreferrer">#1070</a>, @lynnleelhl)</li><li>kbcli restore cluster nil pointer error. (<a href="https://github.com/apecloud/kubeblocks/pull/1072" target="_blank" rel="noopener noreferrer">#1072</a>, @dengshaojiang)</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="miscellaneous">Miscellaneous<a href="#miscellaneous" class="hash-link" aria-label="Direct link to Miscellaneous" title="Direct link to Miscellaneous">â€‹</a></h3><ul><li>user docs (<a href="https://github.com/apecloud/kubeblocks/pull/665" target="_blank" rel="noopener noreferrer">#665</a>, @michelle-0808)</li><li>refactor OpsRequest API (<a href="https://github.com/apecloud/kubeblocks/pull/843" target="_blank" rel="noopener noreferrer">#843</a>, @wangyelei)</li><li>fix make manifests no effective (<a href="https://github.com/apecloud/kubeblocks/pull/844" target="_blank" rel="noopener noreferrer">#844</a>, @wangyelei)</li><li>fix and tidy clusterdef controller test (<a href="https://github.com/apecloud/kubeblocks/pull/851" target="_blank" rel="noopener noreferrer">#851</a>, @weicao)</li><li>refactor AppVersion API to ClusterVersion API (<a href="https://github.com/apecloud/kubeblocks/pull/852" target="_blank" rel="noopener noreferrer">#852</a>, @wangyelei)</li><li>update to ginkgo/v2 package (<a href="https://github.com/apecloud/kubeblocks/pull/867" target="_blank" rel="noopener noreferrer">#867</a>, @nashtsai)</li><li>add test cases for cue_value (<a href="https://github.com/apecloud/kubeblocks/pull/887" target="_blank" rel="noopener noreferrer">#887</a>, @weicao)</li><li>add clusterversion_types_test (<a href="https://github.com/apecloud/kubeblocks/pull/891" target="_blank" rel="noopener noreferrer">#891</a>, @weicao)</li><li>fix and tidy ut in cluster_controller_test (<a href="https://github.com/apecloud/kubeblocks/pull/898" target="_blank" rel="noopener noreferrer">#898</a>, @weicao)</li><li>add some comments to code and improve variable naming (<a href="https://github.com/apecloud/kubeblocks/pull/906" target="_blank" rel="noopener noreferrer">#906</a>, @weicao)</li><li>improve the consensus test, split it into an UT and a FT (<a href="https://github.com/apecloud/kubeblocks/pull/930" target="_blank" rel="noopener noreferrer">#930</a>, @weicao)</li><li>use golang generics to avoid duplicated code (<a href="https://github.com/apecloud/kubeblocks/pull/959" target="_blank" rel="noopener noreferrer">#959</a>, @weicao)</li><li>do some code tidy up in cluster controller while reading it (<a href="https://github.com/apecloud/kubeblocks/pull/982" target="_blank" rel="noopener noreferrer">#982</a>, @weicao)</li><li>rename components.type name to MySQL and upgrade ApeCloud MySQL version (<a href="https://github.com/apecloud/kubeblocks/pull/985" target="_blank" rel="noopener noreferrer">#985</a>, @ZhaoDiankui)</li><li>improve ut of systemaccount (<a href="https://github.com/apecloud/kubeblocks/pull/993" target="_blank" rel="noopener noreferrer">#993</a>, @weicao)</li><li>fix the infinite loop in getAvailableContainerPorts (<a href="https://github.com/apecloud/kubeblocks/pull/994" target="_blank" rel="noopener noreferrer">#994</a>, @weicao)</li><li>improve opsrequest controller ut (<a href="https://github.com/apecloud/kubeblocks/pull/997" target="_blank" rel="noopener noreferrer">#997</a>, @weicao)</li><li>update probe API crd (<a href="https://github.com/apecloud/kubeblocks/pull/1003" target="_blank" rel="noopener noreferrer">#1003</a>, @xuriwuyun)</li><li>change values image tag (<a href="https://github.com/apecloud/kubeblocks/pull/1007" target="_blank" rel="noopener noreferrer">#1007</a>, @JashBook)</li><li>change values image tag (<a href="https://github.com/apecloud/kubeblocks/pull/1010" target="_blank" rel="noopener noreferrer">#1010</a>, @JashBook)</li><li>add lib to ci (<a href="https://github.com/apecloud/kubeblocks/pull/1034" target="_blank" rel="noopener noreferrer">#1034</a>, @JashBook)</li><li>support install and uninstall nyan cat demo application (<a href="https://github.com/apecloud/kubeblocks/pull/1041" target="_blank" rel="noopener noreferrer">#1041</a>, @heng4fun)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-to-kubeblocks-030">Upgrading to KubeBlocks 0.3.0<a href="#upgrading-to-kubeblocks-030" class="hash-link" aria-label="Direct link to Upgrading to KubeBlocks 0.3.0" title="Direct link to Upgrading to KubeBlocks 0.3.0">â€‹</a></h2><p>To upgrade to this release of KubeBlocks, follow the steps here to ensure a smooth upgrade.</p><p>Release Notes for <code>v0.3.0</code>:</p><ul><li><p>Rename CRD name <code>backupjobs.dataprotection.kubeblocks.io</code> to <code>backups.dataprotection.kubeblocks.io</code></p><ul><li>upgrade KubeBlocks with the following command:<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">helm upgrade --install kubeblocks kubeblocks/kubeblocks --version 0.3.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>after you upgrade KubeBlocks, check CRD <code>backupjobs.dataprotection.kubeblocks.io</code> and delete it<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl delete crd backupjobs.dataprotection.kubeblocks.io</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li><li><p>Rename CRD name <code>appversions.dbaas.kubeblocks.io</code> to <code>clusterversions.dbaas.kubeblocks.io</code></p><ul><li><p>before you upgrade KubeBlocks, please backup your Cluster CR yaml first.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get cluster -oyaml &gt; clusters.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>then replace all spec.appVersionRef to spec.clusterVersionRef in the clusters.yaml.</p><p>Then, handle OpsRequest CR the same way.</p></li><li><p>after you upgrade KubeBlocks, you can delete the CRD <code>appversions.dbaas.kubeblocks.io</code></p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl delete crd appversions.dbaas.kubeblocks.io</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>the last step, use the above backup of Clusters and OpsRequests to apply them.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl apply -f clusters.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">â€‹</a></h2><ul><li>auto-schedule for backup policy (<a href="https://github.com/apecloud/kubeblocks/pull/950" target="_blank" rel="noopener noreferrer">#950</a>, @dengshaojiang)</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apecloud/kubeblocks/tree/release-0.4/docs/release_notes/v0.3.0.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/release-0.4/release_notes/v0.2.0"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">KubeBlocks 0.2.0 (2022-12-30)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/release-0.4/release_notes/v0.3.1"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">KubeBlocks 0.3.1 (2023-01-28)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#acknowledgements" class="table-of-contents__link toc-highlight">Acknowledgements</a></li><li><a href="#whats-changed" class="table-of-contents__link toc-highlight">What&#39;s Changed</a><ul><li><a href="#new-features" class="table-of-contents__link toc-highlight">New Features</a></li><li><a href="#bug-fixes" class="table-of-contents__link toc-highlight">Bug Fixes</a></li><li><a href="#miscellaneous" class="table-of-contents__link toc-highlight">Miscellaneous</a></li></ul></li><li><a href="#upgrading-to-kubeblocks-030" class="table-of-contents__link toc-highlight">Upgrading to KubeBlocks 0.3.0</a></li><li><a href="#breaking-changes" class="table-of-contents__link toc-highlight">Breaking Changes</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">KubeBlocks</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/user_docs">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/">Community</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">About us</a></li><li class="footer__item"><a class="footer__link-item" href="/">News</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact us</div><ul class="footer__items clean-list"><li class="footer__item">
              <span class="contact-span">
                <a href="/" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  Email
                </a>
              </span>
            </li><li class="footer__item">
              <span class="contact-span">
                <a href="https://twitter.com" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  Twitter
                </a>
              </span>
            </li><li class="footer__item">
              <span class="contact-span">
                <a href="https://slack.com/" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  Slack
                </a>
              </span>
            </li><li class="footer__item">
              <span class="contact-span">
                <a href="http://www.linkedin.com/" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  Linkedin
                </a>
              </span>
            </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="72" height="18"><img src="/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="72" height="18"></a></div><div class="footer__copyright">Â© 2022 Hangzhou ApeCloud Co., Ltd.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5d553392.js"></script>
<script src="/assets/js/main.c5314c41.js"></script>
</body>
</html>