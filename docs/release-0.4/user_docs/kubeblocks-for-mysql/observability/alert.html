<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-release-0.4 plugin-docs plugin-id-default docs-doc-id-user_docs/kubeblocks-for-mysql/observability/alert">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Configure IM alert | Kubeblocks</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://apecloud.github.io/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/alert"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="release-0.4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-release-0.4"><meta data-rh="true" name="docsearch:version" content="release-0.4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-release-0.4"><meta data-rh="true" property="og:title" content="Configure IM alert | Kubeblocks"><meta data-rh="true" name="description" content="How to enable IM alert"><meta data-rh="true" property="og:description" content="How to enable IM alert"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://apecloud.github.io/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/alert"><link data-rh="true" rel="alternate" href="https://apecloud.github.io/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/alert" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://apecloud.github.io/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/alert" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kubeblocks RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kubeblocks Atom Feed"><link rel="stylesheet" href="/assets/css/styles.cf9c290c.css">
<link rel="preload" href="/assets/js/runtime~main.2a9fa3e1.js" as="script">
<link rel="preload" href="/assets/js/main.c5314c41.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/release-0.4/user_docs/introduction/feature-list">Documentation</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/release-0.4/release_notes/v0.3.6">Release Notes</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/release-0.4">release-0.4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/user_docs/kubeblocks-for-mysql/observability/alert">Next</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/alert">release-0.4</a></li></ul></div><a href="https://github.com/apecloud/kubeblocks" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/release-0.4/user_docs/introduction">Overview</a><button aria-label="Toggle the collapsible sidebar category &#x27;Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/introduction/feature-list">Feature list</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/release-0.4/user_docs/installation/install-and-uninstall-kbcli-and-kubeblocks">Installation</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/installation/install-and-uninstall-kbcli-and-kubeblocks">Install and uninstall `kbcli` and KubeBlocks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/installation/enable-add-ons">Enable add-ons</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/release-0.4/user_docs/quick-start/run-kubeblocks-playground-on-localhost">Quick Start</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/quick-start/run-kubeblocks-playground-on-localhost">Run KubeBlocks Playground on localhost</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/quick-start/run-kubeblocks-playground-on-eks">Run KubeBlocks Playground on AWS EKS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/quick-start/create-a-mysql-cluster-on-aws">Create a MySQL cluster on AWS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/quick-start/create-a-postgresql-cluster-on-aws">Create a PostgreSQL cluster on AWS</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/release-0.4/user_docs/connect_database/overview-of-database-connection">Network Management</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/connect_database/overview-of-database-connection">Connect database from anywhere</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/connect_database/connect-database-in-testing-environment">Connect database in testing environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/connect_database/connect-database-in-production-environment">Connect database in production environment</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/release-0.4/user_docs/resource-scheduling-and-management/configure-pod-affinity-for-database-cluster">Resource Scheduling and Management</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/resource-scheduling-and-management/configure-pod-affinity-for-database-cluster">Configure pod affinity for database clusters</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/apecloud-mysql-intro">KubeBlocks for MySQL</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/apecloud-mysql-intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/backup-and-restore/how-backup-works">Backup and Restore</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/backup-and-restore/how-backup-works">How backup works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/backup-and-restore/backup-and-restore-for-mysql-paxos-group">Backup and restore for MySQL Paxos group</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/backup-and-restore/backup-and-restore-for-mysql-standalone">Backup and restore for MySQL standalone</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/cluster-management/create-and-connect-a-mysql-cluster">Cluster Management</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/cluster-management/create-and-connect-a-mysql-cluster">Create and connect to a MySQL Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/cluster-management/scale-for-apecloud-mysql">Scale for ApeCloud MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/cluster-management/expand-volume">Expand volume</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/cluster-management/restart-mysql-cluster">Restart MySQL cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/cluster-management/start-stop-a-cluster">Start/Stop a MySQL cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/cluster-management/delete-mysql-cluster">Delete a MySQL Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/cluster-management/handle-an-exception">Handle an exception</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/monitor-database">Observability</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/monitor-database">Monitor database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/alert">Configure IM alert</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/access-logs">Access logs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/high-availability/failure-simulation-and-automatic-recovery">High Availability</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/high-availability/failure-simulation-and-automatic-recovery">Failure simulation and automatic recovery</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/migration">Migration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/backup-and-restore/how-backup-works">KubeBlocks for PostgreSQL</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/backup-and-restore/how-backup-works">Backup and Restore</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/backup-and-restore/how-backup-works">How backup works</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/backup-and-restore/backup-and-restore-for-postgresql-standalone">Backup and restore for PostgreSQL standalone</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/cluster-management/create-and-connect-a-postgresql-cluster">Cluster Management</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/cluster-management/create-and-connect-a-postgresql-cluster">Create and connect to a PostgreSQL Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/cluster-management/scale-for-postgresql">Scale for PostgreSQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/cluster-management/restart-postgresql-cluster">Restart PostgreSQL cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/cluster-management/delete-postgresql-cluster">Delete a PostgreSQL Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/cluster-management/handle-an-exception">Handle an exception</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/observability/access-logs">Observability</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/observability/access-logs">Access logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/observability/monitor-database">Monitor database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/kubeblocks-for-postgresql/observability/alert">Configure IM alert</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item hide-children"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/docs/release-0.4/user_docs/cli">KubeBlocks Command Line</a><button aria-label="Toggle the collapsible sidebar category &#x27;KubeBlocks Command Line&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli">kbcli</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_app">kbcli app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_app_install">kbcli app install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_app_uninstall">kbcli app uninstall</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_backup-config">kbcli backup-config</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_bench">kbcli bench</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_bench_tpcc">kbcli bench tpcc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_bench_tpcc_cleanup">kbcli bench tpcc cleanup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_bench_tpcc_prepare">kbcli bench tpcc prepare</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_bench_tpcc_run">kbcli bench tpcc run</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster">kbcli cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_backup">kbcli cluster backup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_configure">kbcli cluster configure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_connect">kbcli cluster connect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_create">kbcli cluster create</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_delete-backup">kbcli cluster delete-backup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_delete-ops">kbcli cluster delete-ops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_delete-restore">kbcli cluster delete-restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_delete">kbcli cluster delete</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_describe-configure">kbcli cluster describe-configure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_describe-ops">kbcli cluster describe-ops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_describe">kbcli cluster describe</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_diff-configure">kbcli cluster diff-configure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_explain-configure">kbcli cluster explain-configure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_expose">kbcli cluster expose</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_hscale">kbcli cluster hscale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_list-accounts">kbcli cluster list-accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_list-backups">kbcli cluster list-backups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_list-components">kbcli cluster list-components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_list-events">kbcli cluster list-events</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_list-instances">kbcli cluster list-instances</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_list-logs">kbcli cluster list-logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_list-ops">kbcli cluster list-ops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_list-restores">kbcli cluster list-restores</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_list">kbcli cluster list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_logs">kbcli cluster logs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_restart">kbcli cluster restart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_restore">kbcli cluster restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_start">kbcli cluster start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_stop">kbcli cluster stop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_update">kbcli cluster update</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_upgrade">kbcli cluster upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_volume-expand">kbcli cluster volume-expand</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_cluster_vscale">kbcli cluster vscale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_clusterdefinition">kbcli clusterdefinition</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_clusterdefinition_list">kbcli clusterdefinition list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_clusterversion">kbcli clusterversion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_clusterversion_list">kbcli clusterversion list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_dashboard">kbcli dashboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_dashboard_list">kbcli dashboard list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_dashboard_open">kbcli dashboard open</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_kubeblocks">kbcli kubeblocks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_kubeblocks_install">kbcli kubeblocks install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_kubeblocks_list-versions">kbcli kubeblocks list-versions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_kubeblocks_status">kbcli kubeblocks status</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_kubeblocks_uninstall">kbcli kubeblocks uninstall</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_kubeblocks_upgrade">kbcli kubeblocks upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_options">kbcli options</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_playground">kbcli playground</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_playground_destroy">kbcli playground destroy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_playground_guide">kbcli playground guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_playground_init">kbcli playground init</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_troubleshoot">kbcli troubleshoot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_troubleshoot_preflight">kbcli troubleshoot preflight</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/release-0.4/user_docs/cli/kbcli_version">kbcli version</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/docs/release-0.4/user_docs/api/lifecycle-management/lifecycle-management-api">KubeBlocks API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/release-0.4/user_docs/api/lifecycle-management/lifecycle-management-api">lifecycle-management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/release-0.4/user_docs/api/observability/access-logs">observability</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/release-0.4/user_docs">README</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">KubeBlocks for MySQL</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Observability</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configure IM alert</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: release-0.4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Configure IM alert</h1><p>Alerts are mainly used for daily error response to improve system availability. Kubeblocks has a built-in set of common alert rules and integrates multiple notification channels. The alert capability of Kubeblocks can meet the operation and maintenance requirements of production-level online clusters.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-kubeblocks-alert-works">How KubeBlocks alert works<a href="#how-kubeblocks-alert-works" class="hash-link" aria-label="Direct link to How KubeBlocks alert works" title="Direct link to How KubeBlocks alert works">​</a></h2><p>KubeBlocks built-in alert system adopts the mainstream open-source solution in the cloud native scenario, i.e. the combined solution of Prometheus and AlertManager. KubeBlocks also uses the AlertManager Webhook extension to integrate new notification channels, such as Feishu custom bot, Dingtalk custom bot, Wechat custom bot.</p><p><img loading="lazy" alt="Alert" src="/assets/images/observability_alert-98278c5f4d4b6d2973e047c40c212d9c.png" width="1610" height="960" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="alert-rules">Alert rules<a href="#alert-rules" class="hash-link" aria-label="Direct link to Alert rules" title="Direct link to Alert rules">​</a></h2><p>KubeBlocks has a set of general built-in alter rules to meet the alert needs of different types of data products and provides an out-of-the-box experience without further configurations. These alert rules provide the best practice for cluster operation and maintenance. These alarm rules further improve alert accuracy and reduce the probability of false negatives and false positives through experience-based smoothing windows, alarm thresholds, alarm levels, and alarm indicators.</p><p>Taking PostgreSQL as an example, the alert rules have built-in common abnormal events, such as instance down, instance restart, slow query, connection amount, deadlock, and cache hit rate.
The following example shows PostgreSQL alert rules (refer to <a href="https://prometheus.io/docs/prometheus/latest/querying/basics/" target="_blank" rel="noopener noreferrer">Prometheus</a> for syntax). When the amount of active connections exceeds 80% of the threshold and lasts for 2 minutes, Prometheus triggers a warning and sends it to AlertManager.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">alert: PostgreSQLTooManyConnections</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  expr: </span><span class="token operator">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">sum</span><span class="token plain"> by </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">namespace,app_kubernetes_io_instance,pod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pg_stat_activity_count</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">datname</span><span class="token operator">!</span><span class="token plain">~</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;template.*|postgres&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&gt;</span><span class="token plain"> on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">namespace,app_kubernetes_io_instance,pod</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">pg_settings_max_connections - pg_settings_superuser_reserved_connections</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> * </span><span class="token number">0.8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  for: 2m</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  labels:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    severity: warning</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  annotations:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    summary: </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;PostgreSQL too many connections (&gt; 80%)&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    description: </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;PostgreSQL has too many connections and the value is {{ </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$value</span><span class="token string" style="color:rgb(255, 121, 198)"> }}. (instance: {{ </span><span class="token string variable" style="color:rgb(189, 147, 249);font-style:italic">$labels</span><span class="token string" style="color:rgb(255, 121, 198)">.pod }})&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can view all the built-in alert rules in <strong>Alerts Tab</strong> of <strong>Prometheus Dashboards</strong>. Run the commands below to open Prometheus Dashboards.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># View dashboards list</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kbcli dashboard list</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Open Prometheus Dashboards</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kbcli dashboard </span><span class="token function" style="color:rgb(80, 250, 123)">open</span><span class="token plain"> kubeblocks-prometheus-server </span><span class="token comment" style="color:rgb(98, 114, 164)"># Here is an example and fill in the actual name based on the above dashboard list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-im-alert-1">Configure IM alert<a href="#configure-im-alert-1" class="hash-link" aria-label="Direct link to Configure IM alert" title="Direct link to Configure IM alert">​</a></h2><p>The alert message notification of Kubeblocks mainly adopts the AlertManager native capability. After receiving the Prometheus alarm, KubeBlocks performs multiple steps, including deduplication, grouping, silence, suppression, and routing, and finally sends it to the corresponding notification channel.
AlertManager integrates a set of notification channels, such as Email and Slack. Kubeblocks extends new IM class notification channels with AlertManger Webhook.</p><p>This tutorial takes configuring Feishu as the notification channel as an example.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="before-you-start">Before you start<a href="#before-you-start" class="hash-link" aria-label="Direct link to Before you start" title="Direct link to Before you start">​</a></h3><p>To receive alerts, you need to deploy monitoring components and enable cluster monitoring first. Refer to <a href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/monitor-database">Monitor database</a> for details.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-configure-alert-channels">Step 1. Configure alert channels<a href="#step-1-configure-alert-channels" class="hash-link" aria-label="Direct link to Step 1. Configure alert channels" title="Direct link to Step 1. Configure alert channels">​</a></h3><p>Configure the notification channels in advance based on your needs and obtain the necessary information for the following steps.
Taking Feishu as an example, you can obtain the webhook address after creating a custom robot. If the signature verification in the security configuration is enabled, you can obtain the signature key in advance.</p><p>Currently, Feishu custom bot, DingTalk custom bot, WeChat Enterprise custom bot, and Slack are supported. You can refer to the following guides to configure notification channels.</p><ul><li><a href="https://open.feishu.cn/document/ukTMukTMukTM/ucTM5YjL3ETO24yNxkjN" target="_blank" rel="noopener noreferrer">Feishu custom bot</a></li><li><a href="https://open.dingtalk.com/document/orgapp/custom-robot-access" target="_blank" rel="noopener noreferrer">DingTalk custom bot</a></li><li><a href="https://developer.work.weixin.qq.com/document/path/91770" target="_blank" rel="noopener noreferrer">WeChat Enterprise custom bot</a></li><li><a href="https://api.slack.com/messaging/webhooks" target="_blank" rel="noopener noreferrer">Slack</a></li></ul><blockquote><p><strong><em>Notes:</em></strong></p><ul><li>Each notification channel has its interface call amount and frequency limits and when the limits are reached, the channel will limit traffic and you cannot receive alerts. </li><li>The SLA of the service provided by a single channel cannot guarantee the alerts are sent successfully. Therefore, it is recommended to configure multiple notification channels to ensure availability.</li></ul></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-configure-the-receiver">Step 2. Configure the receiver<a href="#step-2-configure-the-receiver" class="hash-link" aria-label="Direct link to Step 2. Configure the receiver" title="Direct link to Step 2. Configure the receiver">​</a></h3><p>To improve ease of use, <code>kbcli</code> develops the <code>alert</code> subcommand to simplify the receiver configuration. You can set the notification channels and receivers by the <code>alert</code> subcommand. This subcommand also supports condition filters, such as cluster names and severity levels. After the configuration succeeds, it takes effect dynamically without restarting the service.</p><p>Add an alert receiver.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kbcli alert add-receiver </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--webhook</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;xxx&#x27;</span><span class="token plain"> --cluster</span><span class="token operator">=</span><span class="token plain">xx --severity</span><span class="token operator">=</span><span class="token plain">xx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong><em>Example</em></strong></p><p>   The following commands show how to add a receiver to Feishu based on different requirements.
The webhook address below is an example and you need to replace it with the actual address before running the command.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Signature authentication is disabled</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kbcli alert add-receiver</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--webhook</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;url=https://open.feishu.cn/open-apis/bot/v2/hook/foo&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Signature authentication is enabled and sign is used as the value of token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kbcli alert add-receiver</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--webhook</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;url=https://open.feishu.cn/open-apis/bot/v2/hook/foo,token=sign&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Only receive the alerts from a cluster named pg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kbcli alert add-receiver</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--webhook</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;url=https://open.feishu.cn/open-apis/bot/v2/hook/foo&#x27;</span><span class="token plain"> --cluster</span><span class="token operator">=</span><span class="token plain">pg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Only receive the critical alerts from a cluster named pg</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kbcli alert add-receiver</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">--webhook</span><span class="token operator">=</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;url=https://open.feishu.cn/open-apis/bot/v2/hook/foo&#x27;</span><span class="token plain"> --cluster</span><span class="token operator">=</span><span class="token plain">pg --severity</span><span class="token operator">=</span><span class="token plain">critical</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><strong><em>Note:</em></strong></p><p>For detailed command description, run <code>kbcli alert add-receiver -h</code>.</p></blockquote><p>Run the command below to view the notification configurations.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kbcli alert list-receivers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Run the command below to delete the notification channel and receiver if you want to disable the alert function.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">kbcli alert delete-receiver </span><span class="token operator">&lt;</span><span class="token plain">receiver-name</span><span class="token operator">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2><p>If you cannot receive alert notices, run the commands below to troubleshoot the logs of AlertManager and AlertManager-Webhook-Adaptor. </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Find the corresponding Pod of AlertManager and get Pod name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get pods -l </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;app=prometheus,component=alertmanager&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Search AlertManeger logs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl logs </span><span class="token operator">&lt;</span><span class="token plain">pod-name</span><span class="token operator">&gt;</span><span class="token plain"> -c prometheus-alertmanager</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Find the corresponding Pod of AlertManager-Webhook-Adaptor and get Pod name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl get pods -l </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;app.kubernetes.io/name=alertmanager-webhook-adaptor&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># Search AlertManager-Webhook-Adaptor logs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">kubectl logs </span><span class="token operator">&lt;</span><span class="token plain">pod-name</span><span class="token operator">&gt;</span><span class="token plain"> -c alertmanager-webhook-adaptor</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/apecloud/kubeblocks/tree/release-0.4/docs/user_docs/kubeblocks-for-mysql/observability/alert.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/monitor-database"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Monitor database</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/release-0.4/user_docs/kubeblocks-for-mysql/observability/access-logs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Access logs</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-kubeblocks-alert-works" class="table-of-contents__link toc-highlight">How KubeBlocks alert works</a></li><li><a href="#alert-rules" class="table-of-contents__link toc-highlight">Alert rules</a></li><li><a href="#configure-im-alert-1" class="table-of-contents__link toc-highlight">Configure IM alert</a><ul><li><a href="#before-you-start" class="table-of-contents__link toc-highlight">Before you start</a></li><li><a href="#step-1-configure-alert-channels" class="table-of-contents__link toc-highlight">Step 1. Configure alert channels</a></li><li><a href="#step-2-configure-the-receiver" class="table-of-contents__link toc-highlight">Step 2. Configure the receiver</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">KubeBlocks</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/user_docs">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/">Community</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">About us</a></li><li class="footer__item"><a class="footer__link-item" href="/">News</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact us</div><ul class="footer__items clean-list"><li class="footer__item">
              <span class="contact-span">
                <a href="/" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  Email
                </a>
              </span>
            </li><li class="footer__item">
              <span class="contact-span">
                <a href="https://twitter.com" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  Twitter
                </a>
              </span>
            </li><li class="footer__item">
              <span class="contact-span">
                <a href="https://slack.com/" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  Slack
                </a>
              </span>
            </li><li class="footer__item">
              <span class="contact-span">
                <a href="http://www.linkedin.com/" target="_blank" rel="noreferrer noopener" aria-label="Deploys by Netlify">
                  Linkedin
                </a>
              </span>
            </li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a class="footerLogoLink_BH7S" href="/"><img src="/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="72" height="18"><img src="/img/logo.png" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="72" height="18"></a></div><div class="footer__copyright">© 2022 Hangzhou ApeCloud Co., Ltd.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.2a9fa3e1.js"></script>
<script src="/assets/js/main.c5314c41.js"></script>
</body>
</html>